<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Customizing axes in `ggplot2` • introverse</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Customizing axes in `ggplot2`">
<meta property="og:description" content="introverse">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">introverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/introverse_online.html">Get help here</a>
</li>
<li>
  <a href="../articles/introverse_rstudio.html">Get help in RStudio</a>
</li>
<li>
  <a href="../reference/index.html">RStudio reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Resources and tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/additional_resources.html">Additional resources</a>
    </li>
    <li class="dropdown-header">ggplot2 tutorials</li>
    <li>
      <a href="../articles/axes.html">Customizing ggplot2 axes</a>
    </li>
    <li>
      <a href="../articles/themes.html">Customizing ggplot2 themes</a>
    </li>
    <li>
      <a href="../articles/color_fill_scales.html">Customizing ggplot2 color and fill scales</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/spielmanlab/introverse/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="axes_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Customizing axes in <code>ggplot2</code>
</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/spielmanlab/introverse/blob/master/vignettes/axes.Rmd"><code>vignettes/axes.Rmd</code></a></small>
      <div class="hidden name"><code>axes.Rmd</code></div>

    </div>

    
    
<p>The specific ranges and positioning of axes are a type of <em>scale</em> in <code>ggplot2</code> grammar of graphics. This tutorial demonstrates a minimal, but important, subset of ways you can modify the axis scales. Note that modifying the size, angle, or color of the axes, axis title, or axis text themselves requires <em>modifying your theme</em>, which is not described here.</p>
<p>All examples will alter axes in one of these three plots, using a modified version of the <code>msleep</code> dataset with certain <code>NA</code> values removed:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Remove NAs from the columns awake, sleep_rem, vore, and brainwt for plotting demonstration</span>
<span class="co"># We'll call this dataset `msleep_clean`</span>
<span class="va">msleep</span> <span class="op">%&gt;%</span>
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">awake</span>, <span class="va">sleep_rem</span>, <span class="va">vore</span>, <span class="va">bodywt</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">msleep_clean</span>
  
<span class="co"># First plot used in examples</span>
<span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep_clean</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">awake</span>, y <span class="op">=</span> <span class="va">sleep_rem</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">plot1</span>

<span class="co"># Second plot used in examples</span>
<span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep_clean</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">vore</span>, y <span class="op">=</span> <span class="va">awake</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">plot2</span>

<span class="co"># Third plot used in examples</span>
<span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep_clean</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">awake</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">plot3</span>

<span class="co"># Add plots together, which is allowed when you load the {patchwork} library</span>
<span class="va">plot1</span> <span class="op">+</span> <span class="va">plot2</span> <span class="op">+</span> <span class="va">plot3</span></code></pre></div>
<p><img src="axes_files/figure-html/all_plots-1.png" width="960"></p>
<div id="simply-changing-the-ranges-limits" class="section level2">
<h2 class="hasAnchor">
<a href="#simply-changing-the-ranges-limits" class="anchor"></a>Simply changing the ranges (limits)</h2>
<p><a href="https://ggplot2.tidyverse.org">ggplot2</a> will automatically decide the axis limits for a given plot you make, but you can easily customize this with the quick functions <code>xlim(&lt;low&gt;, &lt;high&gt;)</code> and <code>ylim(&lt;low&gt;, &lt;high&gt;)</code>. For example:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">awake</span>, y <span class="op">=</span> <span class="va">sleep_rem</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.window.html">xlim</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Set x-axis to range from 0-10</span>
  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.window.html">ylim</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">6</span><span class="op">)</span> <span class="co"># Set y-axis to range from 1-6</span>
<span class="co">#&gt; Warning: Removed 71 rows containing missing values (geom_point).</span></code></pre></div>
<p><img src="axes_files/figure-html/unnamed-chunk-2-1.png" width="576"></p>
<p>Be careful to pay attention to <em>warning messages</em> if you change the axis limits, as you may accidentally remove points from the plot! The warning message above is telling us that 71 rows were excluded from this plot. Rows usually get excluded for one of two reasons: 1) The rows contained <code>NA</code> values in these variables so there was nothing to plot, or 2) The rows <em>fell outside the plot’s axis ranges</em>. In this case, we removed all <code>NA</code> values from the variables <code>awake</code> and <code>sleep_rem</code>. This means by limiting our axes, we have removed 71 points of data!</p>
<p>Unless you have a specific reason for doing it, don’t ever intentionally exclude points. For example, this is usually a bad idea, unless your specific goal is to visualize <em>only</em> mammals which are awake for between 15-20 hours/day:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep_clean</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">awake</span>, y <span class="op">=</span> <span class="va">sleep_rem</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.window.html">xlim</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">20</span><span class="op">)</span>
<span class="co">#&gt; Warning: Removed 42 rows containing missing values (geom_point).</span></code></pre></div>
<p><img src="axes_files/figure-html/unnamed-chunk-3-1.png" width="576"></p>
</div>
<div id="changing-the-tick-locations-and-labels" class="section level2">
<h2 class="hasAnchor">
<a href="#changing-the-tick-locations-and-labels" class="anchor"></a>Changing the tick locations and labels</h2>
<p><a href="https://ggplot2.tidyverse.org">ggplot2</a> will also decide where the tickmarks (“breaks”) and associated axis text (“labels”) appear automatically, but of course, anything can be customized! When changing the breaks and labels, you first need to know <em>what kind of axis you are dealing with</em>: Does it use <em>continuous values</em> (the full number line) or does it use <em>discrete values</em>?</p>
<p>There are different functions to use depending on the type of axis you have: Axes showing <em>continuous values</em> use functions <code>scale_x_continuous()</code> and <code>scale_y_continuous()</code>, and axes showing <em>discrete values</em> use functions <code>scale_x_discrete()</code> and <code>scale_y_discrete()</code> for customizing X and Y axes, respectively.</p>
<p>The key arguments you can use include:</p>
<ul>
<li>
<code>breaks</code>, an array of where tick marks should be placed along the given axes. The values in <code>breaks</code> must be compatible with values on your axis.</li>
<li>
<code>n.breaks</code> can instead be used to give the actual number of <em>major breaks</em> (ticks) you’d like to see.</li>
<li>
<code>labels</code>, an array of labels for associated ticks, <em>if you would like to CHANGE them further.</em> The length of this array must match the length of the <code>breaks</code> (or the default number of breaks if you aren’t specifying breaks).</li>
<li>
<code>limits</code>: an array of <code><a href="https://rdrr.io/r/base/c.html">c(low, high)</a></code> for the axis limits. This has the same functionality as functions <code><a href="https://rdrr.io/r/graphics/plot.window.html">xlim()</a></code> and/or <code><a href="https://rdrr.io/r/graphics/plot.window.html">ylim()</a></code>, but can also be specified here if you want.</li>
<li>
<code>name</code>: You can also rename the axis (same as using <code>labs()</code>) with the argument <code>name</code> if you want.</li>
</ul>
<div id="examples-continuous-axes" class="section level3">
<h3 class="hasAnchor">
<a href="#examples-continuous-axes" class="anchor"></a>Examples: Continuous axes</h3>
<blockquote>
<p>Official <a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">documentation</a>!</p>
</blockquote>
<p><br><br></p>
<p>Change the location of tickmarks:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep_clean</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">awake</span>, y <span class="op">=</span> <span class="va">sleep_rem</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="co"># Specify placement for tickmarks aka break (terrible plot, good demo!)</span>
  <span class="co"># Specifying tickmarks will also determine the axis labels</span>
  <span class="fu">scale_x_continuous</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">23</span><span class="op">)</span></code></pre></div>
<p><img src="axes_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
<p>Change the location of tickmarks and use your own labels (for demonstration purposes):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_labels</span> <span class="op">&lt;-</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span> <span class="co"># R has built-in variables letters (a-z) and LETTERS (A-Z). This line says, "take the 1st-20th value in letters and save to a variable called `new_labels`". </span>

<span class="co"># See the variable we will use for labels. </span>
<span class="va">new_labels</span>
<span class="co">#&gt;  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s"</span>
<span class="co">#&gt; [20] "t"</span>

<span class="co"># And the plot:</span>
<span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">awake</span>, y <span class="op">=</span> <span class="va">sleep_rem</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="co"># Make sure breaks and labels are the same length</span>
  <span class="fu">scale_x_continuous</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">23</span>, labels <span class="op">=</span> <span class="va">new_labels</span><span class="op">)</span></code></pre></div>
<p><img src="axes_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
</div>
<div id="example-discrete-axes" class="section level3">
<h3 class="hasAnchor">
<a href="#example-discrete-axes" class="anchor"></a>Example: Discrete axes</h3>
<blockquote>
<p>Official <a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">documentation</a>!</p>
</blockquote>
<p>Change the labels of tickmarks:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep_clean</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">vore</span>, y <span class="op">=</span> <span class="va">awake</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_x_discrete</span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"carnivores"</span>, <span class="st">"herbivores"</span>, <span class="st">"insectivores"</span>, <span class="st">"omnivores"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="axes_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
<p>For discrete data like <code>vore</code>, you will not have much luck changing the number of breaks. This is because the axis is discrete, and the breaks are what they are:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep_clean</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">vore</span>, y <span class="op">=</span> <span class="va">awake</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="co"># there aren't 10 values along the X-axis; only 4!! So, ggplot2 bails.</span>
  <span class="fu">scale_x_discrete</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<p><img src="axes_files/figure-html/unnamed-chunk-7-1.png" width="576"></p>
</div>
</div>
<div id="applying-a-log-scale" class="section level2">
<h2 class="hasAnchor">
<a href="#applying-a-log-scale" class="anchor"></a>Applying a log scale</h2>
<p>When data has extreme ranges, it can be useful to apply a log-scale. We can accomplish this with either <code>scale_x_log10()</code> or <code>scale_y_log10()</code>, depending on which axis you want to visualize on a log scale (it may be both!). The variable <code>bodywt</code> has an extreme range of values, making trends difficult to visualize on linear scales. It may be helpful to transform, as shown below:</p>
<p><br><br></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep_clean</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">awake</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="co"># Change x axis to log scale</span>
  <span class="fu">scale_x_log10</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="axes_files/figure-html/unnamed-chunk-8-1.png" width="576"></p>
<p><br></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># If the axes were switched, we'd switch the scale command to `y`</span>
<span class="fu">ggplot</span><span class="op">(</span><span class="va">msleep_clean</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">awake</span>, y <span class="op">=</span> <span class="va">bodywt</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="co"># Change y axis to log scale</span>
  <span class="fu">scale_y_log10</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="axes_files/figure-html/unnamed-chunk-9-1.png" width="576"></p>
<p><br></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Stephanie Spielman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
